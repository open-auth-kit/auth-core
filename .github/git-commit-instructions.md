# Conventional Commit / «Conversional» Style Guidelines

Эти инструкции читает GitHub Copilot при генерации commit-сообщений. Соблюдай их **строго**.

---  

## 1. Формат заголовка (Header)

```
<type>(<scope>): <tickets> <subject>
```

* **`<type>`** — одно из: `feat`, `fix`, `refactor`, `docs`, `test`, `chore`, `perf`, `build`, `ci`, `revert`.
* **`<scope>`** — *опционально*; верхний каталог основного затронутого модуля (**kebab-case**). Если scope однозначно не определить — скобки опускаем.
* **`<tickets>`** — номера тикетов, извлечённые из имени ветки (см. § 3).
* **`<subject>`** — что сделано, повелительное наклонение, ≤ 72 симв., без точки.

Без scope используем упрощённый вид:

```
<type>: <tickets> <subject>
```

---  

## 2. Сопоставление префикса ветки и `<type>`

| Префикс ветки                     | Ставим `type` |
|----------------------------------|---------------|
| `f-`, `feat-`, `feature-`        | `feat`        |
| `b-`, `bug-`, `bugfix-`          | `fix`         |
| `r-`, `refactor-`                | `refactor`    |
| `t-`, `test-`                    | `test`        |
| `d-`, `docs-`                    | `docs`        |
| `c-`, `chore-`                   | `chore`       |
| *(любое другое)*                 | `feat`        |

---  

## 3. Извлечение тикетов из имени ветки

1. Ищи подстроки формата `AAA-123` (заглавные лат. буквы + `-` + цифры).
2. Выводи их **в порядке появления** через пробел, без дубликатов.

> Пример  
> Ветка: `f-DPOAC-1-DPOAC-2-add-uniq-prefix`  
> Заголовок: `feat: DPOAC-1 DPOAC-2 Добавил уникальные префиксы к токенам`

---  

## 4. Правила для Body (*необязательно*)

* Пиши по-русски.
* Раскрой **что** сделано и **зачем**.
* Жёсткий перенос строк — 80 символов.
* Несовместимые изменения отмечай строкой  
  `BREAKING CHANGE: …`.

---  

## 5. Footer (*необязательно*)

* `Closes <ticket>` — автозакрытие задач.
* `Co-authored-by: …` — при необходимости.

---  

## 6. Примеры

```text
# 1–2 файла, без scope
refactor: DPOAC-17 Улучшил читаемость функции calculateFee

# Несколько модулей, указан scope, есть body
feat(api): DPOAC-21 DPOAC-34 Добавил эндпоинт /v2/users/profile

Переиспользовал логику v1, но убрал лишние поля.
BREAKING CHANGE: поле "nickname" больше не возвращается.

# Тесты
test(ui): DPOAC-55 Добавил e2e на регистрацию
```
